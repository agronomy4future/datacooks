% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/datacooks.R
\name{datacooks}
\alias{datacooks}
\title{Cook's Distance Diagnostics and Outlier Detection}
\usage{
datacooks(model, threshold = 4, clean = FALSE)
}
\arguments{
\item{model}{a fitted \code{lm} model object.}

\item{threshold}{numeric; the numerator of the Cook's distance cutoff
\eqn{threshold / (n - p)} for identifying outliers. Default is 4.}

\item{clean}{logical; if \code{TRUE}, only returns rows not flagged as
outliers (i.e., category== "normal"). Default is \code{FALSE}.}
}
\value{
A data frame containing the original data and diagnostic columns.
If \code{clean = TRUE}, only non-outlier rows are returned.
}
\description{
Adds diagnostic statistics (predicted values, residuals, leverage, studentized
residuals, and Cook's distance) to the original dataset used in a linear
regression model, and flags influential observations as outliers.
}
\examples{
## to install datacooks package
if(!require(remotes)) install.packages("remotes")
if (!requireNamespace("datacooks", quietly= TRUE)) {
 remotes::install_github("agronomy4future/datacooks")
}
library(remotes)
library(datacooks)

## practice using the actual dataset
if(!require(readr)) install.packages("readr")
library(readr)
github="https://raw.githubusercontent.com/agronomy4future/raw_data_practice/refs/heads/main/fruit_size.csv"
df=data.frame(read_csv(url(github),show_col_types = FALSE))
model= lm(area_cm2 ~ weight_g, data= df)

# Return all data with diagnostics
df1= datacooks(model, threshold= 4, clean= FALSE)

# Return only non-outlier ("normal") data
df1= datacooks(model, threshold= 4, clean= TRUE)

# Default: threshold= 4, clean= FALSE
df1= datacooks(model)

â–  code source: https://github.com/agronomy4future/datacooks

}
